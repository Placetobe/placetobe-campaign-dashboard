<!doctype html>
<link rel="import" href="../../polymer/polymer.html"> 
<link rel="import" href="../../../bower_components/iron-signals/iron-signals.html"></link>
<link rel="import" href="../can-form/can-form.html">
<link rel="import" href="../can-textinput/can-textinput.html">
<link rel="import" href="../can-selectbox/can-selectbox.html">
<link rel="import" href="../can-warning/can-warning.html">

<dom-module id="can-login-form">
    <template>

        <iron-signals
            on-iron-signal-logged-in="loggedinHandler"
            on-iron-signal-login-error="loginErrorHandler"
        ></iron-signals>

        <can-form
            hidesubmitbutton
            hide-feedback
            >

            <template is="dom-if" if="[[hideUsertypeSelect]]">
                <input
                    type="hidden"
                    name="userRole"
                    value="{{userRole}}">
            </template>
            
            <template is="dom-if" if="[[!hideUsertypeSelect]]">
            <can-selectbox
                name="userRole"
                value="{{userRole}}"
                placeholder="ondernemer of investeerder?"
                options="{{userRoles}}">
            </can-selectbox>
            </template>
            
            <can-textinput
                name="username"
                type="email"
                required="true"
                placeholder="email adres"
                value="{{username}}">
            </can-textinput>
            
            <can-textinput
                type="password"
                name="password"
                required="true"
                placeholder="wachtwoord"
                value="{{password}}"
            ></can-textinput>
            
            <can-warning hidden$="[[!loginError]]">
                Inloggen mislukt
            </can-warning>
            
            <can-button on-button-tap="fireLoginRequest">Login</can-button>

        </can-form>

    </template>
    <script src="can-login-form.js"></script>
</dom-module>
