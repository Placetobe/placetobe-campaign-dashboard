<link rel="import" href="../../../bower_components/iron-signals/iron-signals.html">
<link rel="import" href="../can-api/can-api.html">
<dom-module id="can-user-session">
    <template>
        <iron-signals
            on-iron-signal-logged-in="handleSignalLoggedIn"
            on-iron-signal-login-error="handleSignalLogInError"
            on-iron-signal-logged-out="handleSignalLoggedOut"
            on-iron-signal-ip-changed="clientIpChanged"
        ></iron-signals>

        <can-api
            id="authenticate"
            method="post"
            route="authenticate"
            on-response="handleResponse"
            on-error="handleError"
        ></can-api>

        <can-api
            auth
            id="unauthenticate"
            method="delete"
            route="authenticate"
            on-response="_handleLogout"
        ></can-api>
    </template>
    <script src="can-user-session.js" charset="utf-8"></script>
</dom-module>
