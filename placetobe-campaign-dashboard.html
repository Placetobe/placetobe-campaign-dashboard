<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../placetobe-styles/placetobe-styles.html">
<link rel="import" href="../caas-auth-behavior/caas-auth-behavior.html">
<link rel="import" href="../placetobe-signin-card/placetobe-signin-card.html">
<link rel="import" href="../placetobe-card/placetobe-card.html">
<link rel="import" href="../placetobe-input-box/placetobe-input-box.html">
<link rel="import" href="../placetobe-button/placetobe-button.html">


<link rel="import" href="can-api/can-api.html">


<script src="../moment/moment.js"></script>
<link rel="import" href="../google-youtube/google-youtube.html">
<link rel="import" href="../vimeo-video/vimeo-video.html">
<link rel="import" href="../silk-editor/silk-editor.html">
<link rel="import" href="../caas-campaign-types/caas-campaign-types.html">

<link rel="import" href="can-page/can-page.html">
<link rel="import" href="can-page-tabs/can-page-tabs.html">
<link rel="import" href="can-campaign-stats-card/can-campaign-stats-card.html">
<link rel="import" href="can-user-session/can-user-session.html">
<link rel="import" href="can-login-page/can-login-page.html">
<link rel="import" href="can-form/can-form.html">
<link rel="import" href="can-textinput/can-textinput.html">
<link rel="import" href="can-textarea/can-textarea.html">
<link rel="import" href="can-campaign-categories-list/can-campaign-categories-list.html">
<link rel="import" href="can-campaign-cover-form/can-campaign-cover-form.html">
<link rel="import" href="can-user-profile-form/can-user-profile-form.html">
<link rel="import" href="can-campaign-id-form/can-campaign-id-form.html">
<link rel="import" href="can-campaign-kvk-form/can-campaign-kvk-form.html">
<link rel="import" href="can-campaign-contract-form/can-campaign-contract-form.html">
<link rel="import" href="can-campaign-incentives-form/can-campaign-incentives-form.html">
<link rel="import" href="can-contracts-table/can-contracts-table.html">
<link rel="import" href="can-overlay/can-overlay.html">
<link rel="import" href="can-loader/can-loader.html">
<link rel="import" href="can-switch-button/can-switch-button.html">
<link rel="import" href="can-campaign-repayments-card/can-campaign-repayments-card.html">
<link rel="import" href="can-file-io/can-file-io.html">
<link rel="import" href="can-location-selector/can-location-selector.html">
<link rel="import" href="can-campaign-location-card/can-campaign-location-card.html">
<link rel="import" href="can-campaign-status/can-campaign-status.html">
<!--
`placetobe-campaign-dashboard`
Placetobe dashboard for campaigns

@demo demo/index.html
-->

<dom-module id="placetobe-campaign-dashboard">
  <template>
    <style>
      :host {
        display: block;
        @apply --placetobe-flex-layout--vertical;
        @apply --placetobe-cross-align--center;
      }
      placetobe-signin-card {
        width: 100%;
        max-width: 540px;
      }
      placetobe-signin-card[hidden] {
        display: none;
      }
      placetobe-card {
        width: 100%;
        max-width: 540px;
        display: flex;

        flex-direction: horizontal;
        flex-basis: wrap;
      }
      :host ul {
        list-style: none;
      }
      li {
        padding-bottom: 5px;
        display: flex;
        flex-direction: horizontal;
        flex-basis: wrap;
      }
      placetobe-input-box {
        min-width: 88px;
       --input-box-disabled-background-color: var(-placetobe-color-yellow);
      }
      placetobe-input-box:last-child {
        padding-left: 5px;
      }
    </style>

    <placetobe-signin-card
      hidden$="[[signedIn]]"
      id="signInCard"
      api-endpoint="[[apiEndpoint]]"
      signed-in="{{signedIn}}"
      access-token="{{accessToken}}"
      user-role="ondernemer"
    ></placetobe-signin-card>

  </template>

  <script>
    Polymer({

      is: 'placetobe-campaign-dashboard',
      behaviors: [CaasAuthBehavior],

      properties: {
        apiEndpoint: {
          type: String,
          value: null
        },

        userId: {
          type: String
        },

        signedIn: {
          type: Boolean,
          value: false
        }
      },
      observers: [
        '_setUserParameters(_tokenData.data.*)'
      ],

      _setUserParameters: function (tokenDataChange) {
        this.userId = this._tokenData.data.userId;
      }

    });
  </script>
</dom-module>
